# CentOS-6 Minimal Base Box

This provides the configuration and Makefile to build a [Vagrant](https://www.vagrantup.com) minimal base box using [Packer](https://www.packer.io). The base box is intended for server (terminal) use only so is restricted to a single locale (with `en_US` being the default) which allows for a smaller box size.

There are templates provided for the following with `x86_64` and `i386` architecture:
- CentOS-6.10
- CentOS-6.9
- CentOS-6.8
- CentOS-6.7

There is currently no requirement to support older minor release versions or alternative architectures but they could be added if necessary.

## Usage Instructions

### Prerequisites

The build environment required is Mac OSX or GNU Linux.

To build the box file you will need the following installed:

- [VirtualBox](https://www.virtualbox.org) (6.0.10)
- [Vagrant](https://www.vagrantup.com) (2.2.5)
- [Packer](https://www.packer.io) (1.4.3)

### Build

To build the latest `x86_64` base box run `make` or `make build`.

```
$ make
```

To build CentOS-6.7 for a 32 bit architecture.

```
$ BOX_ARCH=i386 BOX_MINOR_RELEASE=6.7 make
```

#### Box Variants

To build a box variant from an alternative box template use `BOX_VARIANT`. The default is `minimal` but there's an alternative `minimal-cloud-init` template to build boxes that include Cloud-Init.

```
$ BOX_VARIANT=minimal-cloud-init BOX_MINOR_RELEASE=6.7 make
```

### Local install

To install from a box file, generated by a successful build, run the following command which will add the box and output a minimal Vagrantfile template that can be used to create a Vagrantfile in a suitable directory for testing.

```
$ BOX_MINOR_RELEASE=6.7 make install
```
